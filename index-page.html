
<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù†Ø´Ø±</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    direction: rtl;
    background: linear-gradient(-45deg, purple, red, violet, purple);
    background-size: 400% 400%;
    animation: gradientShift 10s ease infinite;
    color: white;
  }
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  header {
    text-align: center;
    padding: 20px;
  }
  .btn {
    background: rgba(0,0,0,0.8);
    border: none;
    padding: 10px 15px;
    margin: 5px;
    color: white;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.3s;
  }
  .btn:hover { background: rgba(255,0,0,0.7); }
  #vip-status {
    display: inline-block;
    padding: 5px 15px;
    border-radius: 20px;
    background: gray;
    margin: 10px;
    transition: 0.3s;
  }
  #vip-status.active { background: gold; color: black; }
  .posts {
    display: flex;
    flex-wrap: wrap-reverse; /* ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙŠØ·Ù„Ø¹ Ù„Ù„Ø£Ø¹Ù„Ù‰ */
    gap: 10px;
    padding: 20px;
    justify-content: center;
  }
  .post {
    background: rgba(0,0,0,0.5);
    border-radius: 10px;
    overflow: hidden;
    padding: 5px;
    width: 30%;
    min-width: 200px;
    animation: slideUp 0.5s ease;
  }
  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  .post img, .post video {
    width: 100%;
    border-radius: 8px;
  }
  .interactions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 5px;
  }
  .reaction-btn {
    cursor: pointer;
    margin: 0 2px;
  }
  .comments {
    margin-top: 5px;
    background: rgba(255,255,255,0.1);
    padding: 5px;
    border-radius: 5px;
    font-size: 0.8rem;
    max-height: 150px;
    overflow-y: auto;
  }
</style>
</head>
<body>

<header>
  <button class="btn" onclick="registerUser()">ØªØ³Ø¬ÙŠÙ„</button>
  <button class="btn" onclick="createUser()">Ø¥Ù†Ø´Ø§Ø¡</button>
  <button class="btn" onclick="promptPost()">ğŸ“· Ù†Ø´Ø± ØµÙˆØ± / ğŸ¥ ÙÙŠØ¯ÙŠÙˆ / GIF</button>
  <span id="vip-status">VIP</span>
  <button class="btn" onclick="vipLeft()">ğŸ”’ ÙŠØ³Ø§Ø±</button>
  <button class="btn" onclick="vipRight()">ğŸ”’ ÙŠÙ…ÙŠÙ†</button>
</header>

<div class="posts" id="posts"></div>

<script>
let posts = JSON.parse(localStorage.getItem("posts") || "[]");
let currentUser = JSON.parse(localStorage.getItem("currentUser") || "null");
let vipCodeLeft = "";
let vipCodeRight = "";
let vipActive = false;

// ØªØ³Ø¬ÙŠÙ„
function registerUser(){
  let name = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:");
  let img = prompt("Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:");
  if(name){
    currentUser = {name: name, img: img || "https://via.placeholder.com/50", vip: false};
    localStorage.setItem("currentUser", JSON.stringify(currentUser));
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
  }
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
function createUser(){
  alert("Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† ÙˆØ¶Ø¹ ÙƒÙˆØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ ØªØ­Ù‚Ù‚ ÙƒÙ„Ù…Ø§Øª Ø³Ø± Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª");
}

// Ø¥Ø¯Ø®Ø§Ù„ Ø£ÙƒÙˆØ§Ø¯ VIP
function vipLeft(){
  vipCodeLeft = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± ÙŠØ³Ø§Ø±:");
  checkVIP();
}
function vipRight(){
  vipCodeRight = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± ÙŠÙ…ÙŠÙ†:");
  checkVIP();
}
function checkVIP(){
  if(vipCodeLeft === "111" && vipCodeRight === "222"){
    vipActive = true;
    document.getElementById("vip-status").classList.add("active");
    alert("VIP Ù…ÙØ¹Ù‘Ù„ âœ…");
  }
}

// Ù†Ø´Ø±
function promptPost(){
  if(!vipActive){
    alert("ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† VIP Ù„Ù„Ù†Ø´Ø± Ø£Ùˆ Ø§Ù„Ø­Ø°Ù");
    return;
  }
  let type = prompt("Ø§ÙƒØªØ¨: image Ø£Ùˆ video Ø£Ùˆ gif");
  let url = prompt("Ø¶Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø·:");
  if(url){
    posts.push({type: type, url: url, user: currentUser, reactions: {}, comments: []});
    localStorage.setItem("posts", JSON.stringify(posts));
    renderPosts();
  }
}

// ØªÙØ§Ø¹Ù„
function reactToPost(index, emoji){
  let post = posts[index];
  if(!post.reactions[emoji]) post.reactions[emoji] = [];
  if(!currentUser) return alert("Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
  if(!post.reactions[emoji].includes(currentUser.name)){
    post.reactions[emoji].push(currentUser.name);
  }
  localStorage.setItem("posts", JSON.stringify(posts));
  renderPosts();
}

// ØªØ¹Ù„ÙŠÙ‚
function commentOnPost(index){
  let text = prompt("Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ:");
  if(!text) return;
  if(text.includes("http") && !vipActive){
    alert("Ø¥Ø¶Ø§ÙØ© ØµÙˆØ± Ø¨Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ ØªØªØ·Ù„Ø¨ VIP");
    return;
  }
  posts[index].comments.push({user: currentUser, text: text});
  localStorage.setItem("posts", JSON.stringify(posts));
  renderPosts();
}

// Ø¹Ø±Ø¶
function renderPosts(){
  let container = document.getElementById("posts");
  container.innerHTML = "";
  posts.forEach((p,i)=>{
    let div = document.createElement("div");
    div.className = "post";
    if(p.type === "image" || p.type === "gif"){
      div.innerHTML = `<img src="${p.url}">`;
    } else if(p.type === "video"){
      div.innerHTML = `<video src="${p.url}" controls></video>`;
    }
    div.innerHTML += `
      <div class="interactions">
        <div>
          <span class="reaction-btn" onclick="reactToPost(${i},'ğŸ’–')">ğŸ’–</span>
          <span class="reaction-btn" onclick="reactToPost(${i},'ğŸ˜®')">ğŸ˜®</span>
          <span class="reaction-btn" onclick="reactToPost(${i},'ğŸ˜¡')">ğŸ˜¡</span>
          <span class="reaction-btn" onclick="reactToPost(${i},'ğŸ˜«')">ğŸ˜«</span>
          <span class="reaction-btn" onclick="reactToPost(${i},'ğŸ¥µ')">ğŸ¥µ</span>
        </div>
        <button class="btn" onclick="commentOnPost(${i})">ğŸ’¬ ØªØ¹Ù„ÙŠÙ‚</button>
      </div>
      <div class="comments">
        <strong>${p.user?.name || "Ù…Ø¬Ù‡ÙˆÙ„"}</strong><br>
        ${Object.entries(p.reactions).map(([emoji,users])=> `${emoji} ${users.length}`).join(" ")}
        <hr>
        ${p.comments.map(c=> `<div><img src="${c.user.img}" width="20" style="vertical-align:middle;border-radius:50%;"> <strong>${c.user.name}</strong>: ${c.text}</div>`).join("")}
      </div>
    `;
    container.appendChild(div);
  });
}

renderPosts();
</script>
</body>
</html>
