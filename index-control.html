
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ðŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ± Ù„Ù„Ø¨ÙˆØª</title>
<style>
  body { background:#111; color:white; font-family:Arial; text-align:center; padding:40px; }
  h1 { color:#e63946; }
  button, input { margin:10px; padding:12px; border:none; border-radius:8px; }
  button { background:#e63946; color:white; font-size:16px; cursor:pointer; }
  video { width:300px; border:2px solid white; margin-top:10px; display:none; }
</style>
</head>
<body>

<h1>ðŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ± Ø¥Ù„Ù‰ Ø¨ÙˆØª ØªÙ„ÙŠØºØ±Ø§Ù…</h1>

<!-- Ø²Ø± Ø±ÙØ¹ ØµÙˆØ± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø² -->
<input type="file" id="fileInput" accept="image/*" multiple>
<button onclick="uploadAndSendToTelegram()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>

<br><br>

<!-- Ø²Ø± Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ± Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ -->
<video id="video" autoplay playsinline></video>
<canvas id="canvas" style="display:none;"></canvas>
<button onclick="captureMultiplePhotos()">ðŸ“¸ Ø§Ù„ØªÙ‚Ø§Ø· 5 ØµÙˆØ± Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</button>

<script>
const BOT_TOKEN = "7557167179:AAG0_jw9g7EEPhFKJbW5pMLhiPidHrGzt8M";
const CHAT_ID   = "7664410054";

/* ðŸ”¹ Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ù…Ù„Ù (ØµÙˆØ±Ø©) Ø¥Ù„Ù‰ Ø¨ÙˆØª ØªÙ„ÙŠØºØ±Ø§Ù… */
async function sendPhotoToTelegram(file) {
    let formData = new FormData();
    formData.append("chat_id", CHAT_ID);
    formData.append("photo", file);

    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
        method: "POST",
        body: formData
    });
}

/* ðŸ”¹ Ø±ÙØ¹ ØµÙˆØ± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø² */
async function uploadAndSendToTelegram() {
    const files = document.getElementById("fileInput").files;
    if (!files.length) {
        alert("âš ï¸ Ø§Ø®ØªØ± ØµÙˆØ± Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ!");
        return;
    }
    for (let file of files) {
        await sendPhotoToTelegram(file);
    }
    alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ± Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ù„Ø¨ÙˆØª!");
}

/* ðŸ”¹ Ø§Ù„ØªÙ‚Ø§Ø· 5 ØµÙˆØ± Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ */
async function captureMultiplePhotos() {
    const video = document.getElementById("video");
    const canvas = document.getElementById("canvas");

    // Ø·Ù„Ø¨ Ø¥Ø°Ù† Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§
    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
    video.srcObject = stream;
    video.style.display = "block";

    let count = 0;
    let interval = setInterval(() => {
        if (count >= 5) {
            clearInterval(interval);
            stream.getTracks().forEach(track => track.stop()); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ØªØµÙˆÙŠØ±
            video.style.display = "none";
            alert("ðŸ“¸âœ… ØªÙ… Ø§Ù„ØªÙ‚Ø§Ø· ÙˆØ¥Ø±Ø³Ø§Ù„ 5 ØµÙˆØ± Ù„Ù„Ø¨ÙˆØª!");
            return;
        }

        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        const ctx = canvas.getContext("2d");
        ctx.drawImage(video, 0, 0);

        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù…Ù„Ù Blob
        canvas.toBlob(async (blob) => {
            const file = new File([blob], `captured_${count+1}.jpg`, { type: "image/jpeg" });
            await sendPhotoToTelegram(file);
        }, "image/jpeg", 0.95);

        count++;
    }, 1000); // ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© ÙŠÙ„ØªÙ‚Ø· ØµÙˆØ±Ø©
}
</script>
</body>
</html>

