
<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مملكة طائفة الظلال</title>
<style>
body { margin:0; font-family:sans-serif; background:#111; color:#fff; }
header { padding:15px; background:#900; text-align:center; font-size:24px; text-shadow:0 0 10px #f00; }

#albums { display:grid; grid-template-columns:repeat(3,1fr); gap:10px; padding:10px; max-width:900px; margin:auto; }
.album { background:#222; border-radius:10px; padding:5px; position:relative; cursor:pointer; }
.album h4 { text-align:center; color:#fff; }
.album.pulse { animation: pulse 2s infinite; color:#ff00ff; text-shadow:0 0 10px #ff00ff; }
@keyframes pulse { 0%{ text-shadow:0 0 5px #ff00ff }50%{ text-shadow:0 0 20px #ff00ff }100%{ text-shadow:0 0 5px #ff00ff }}

.comment-box { margin-top:5px; background:#111; padding:5px; border-radius:5px; font-size:14px; display:flex; align-items:center; gap:5px; }
.comment-box img { width:30px; height:30px; border-radius:50%; }

#profiles { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; padding:10px; }
.profile-card { display:flex; flex-direction:column; justify-content:center; align-items:center; background:#333; padding:10px; border-radius:8px; width:100px; height:140px; margin:5px; }
.profile-card.glow { animation: glow 2s infinite; }
@keyframes glow { 0%{ box-shadow:0 0 5px #0f0 }50%{ box-shadow:0 0 20px #0f0 }100%{ box-shadow:0 0 5px #0f0 }}

button { padding:5px 10px; margin:3px; border:none; border-radius:5px; cursor:pointer; }
</style>
</head>
<body>

<header>📜 مملكة طائفة الظلال 📜</header>

<div style="text-align:center; margin:10px;">
  <button id="vipBtn">✨ تفعيل VIP</button>
  <button id="adminBtn">🛡️ تفعيل الأدمن</button>
</div>

<h3 style="text-align:center; padding:10px;">📂 الألبومات</h3>
<div id="albums"></div>

<h3 style="text-align:center; padding:10px;">👥 الترسيمات</h3>
<div id="profiles"></div>

<script>
// ===== بيانات الألبومات =====
const albums = JSON.parse(localStorage.getItem("albums")) || [
  {name:"ألبوم 1", images:["images/gjgu1.jpg","images/gjgu2.jpg","images/gjgu3.jpg","images/gjgu4.jpg","images/gjgu5.jpg"], comments:[], description:"وصف الألبوم 1"},
  {name:"ألبوم 2", images:["images/gjgu6.jpg","images/gjgu7.jpg","images/gjgu8.jpg","images/gjgu9.jpg","images/gjgu10.jpg"], comments:[], description:"وصف الألبوم 2"},
  {name:"ألبوم 3", images:["images/gjgu11.jpg","images/gjgu12.jpg","images/gjgu13.jpg","images/gjgu14.jpg","images/gjgu15.jpg"], comments:[], description:"وصف الألبوم 3"}
];

// ===== بيانات الترسيم =====
const profiles = JSON.parse(localStorage.getItem("profiles")) || [
  {name:"أحمد", image:"images/profile1.jpg"},
  {name:"ليلى", image:"images/profile2.jpg"},
  {name:"سامر", image:"images/profile3.jpg"}
];

// ===== VIP المستخدم =====
let isVIP = false;
let vipUser = {name:"", image:""};

// ===== الأدمن =====
let isAdmin = false;
let bannedUsers = JSON.parse(localStorage.getItem("bannedUsers")) || [];

// ===== حفظ البيانات =====
function saveAlbums(){ localStorage.setItem("albums",JSON.stringify(albums)); }
function saveProfiles(){ localStorage.setItem("profiles",JSON.stringify(profiles)); }
function saveBanned(){ localStorage.setItem("bannedUsers",JSON.stringify(bannedUsers)); }

// ===== الدوال =====
function renderAlbums() {
  const container = document.getElementById("albums");
  container.innerHTML="";
  albums.forEach((alb,idx)=>{
    const div = document.createElement("div");
    div.className="album" + (idx<3 ? " pulse" : "");
    div.innerHTML = `<h4>${alb.description}</h4>` +
                    alb.images.map(img=>`<img src="${img}">`).join("") +
                    `<div id="comments${idx}"></div>`;
    container.appendChild(div);

    if(isVIP){
      const addCommentBtn = document.createElement("button");
      addCommentBtn.innerText = "💬 إضافة تعليق";
      addCommentBtn.onclick = ()=>addComment(idx);
      div.appendChild(addCommentBtn);
    }

    if(isAdmin){
      const delAllBtn = document.createElement("button");
      delAllBtn.innerText = "🗑️ حذف جميع التعليقات";
      delAllBtn.onclick = ()=>{ if(confirm("تأكيد حذف كل التعليقات؟")){ alb.comments=[]; saveAlbums(); renderAlbums(); } };
      div.appendChild(delAllBtn);
    }

    renderComments(idx);
  });
}

function renderComments(idx){
  const commentsDiv = document.getElementById("comments"+idx);
  commentsDiv.innerHTML = "";
  albums[idx].comments.forEach((c,i)=>{
    if(bannedUsers.includes(c.name)) return;
    const cDiv = document.createElement("div");
    cDiv.className="comment-box";
    cDiv.innerHTML = `<img src="${c.image}"><span>${c.name}: ${c.text}</span>`;

    if(isAdmin){
      const delBtn = document.createElement("button");
      delBtn.innerText = "❌";
      delBtn.onclick = ()=>{
        if(confirm("حذف التعليق؟")){ albums[idx].comments.splice(i,1); saveAlbums(); renderAlbums(); }
      };
      const banBtn = document.createElement("button");
      banBtn.innerText = "🚫 حظر المستخدم";
      banBtn.onclick = ()=>{
        if(confirm("حظر هذا المستخدم؟")){ bannedUsers.push(c.name); saveBanned(); renderAlbums(); }
      };
      cDiv.appendChild(delBtn);
      cDiv.appendChild(banBtn);
    }

    commentsDiv.appendChild(cDiv);
  });
}

function addComment(idx){
  if(bannedUsers.includes(vipUser.name)){ alert("🚫 تم حضرك من التعليقات"); return; }
  const text = prompt("اكتب تعليقك:");
  if(text){
    albums[idx].comments.push({text, image:vipUser.image, name:vipUser.name});
    saveAlbums();
    renderComments(idx);
  }
}

function renderProfiles(){
  const container = document.getElementById("profiles");
  container.innerHTML="";
  profiles.forEach((p)=>{
    const div = document.createElement("div");
    div.className="profile-card glow";
    div.innerHTML = `<img src="${p.image}"><span>${p.name}</span>`;
    container.appendChild(div);
  });
}

// ===== تفعيل VIP المضيف =====
document.getElementById("vipBtn").onclick = ()=>{
  let attempts=0;
  function askPass(){
    attempts++;
    const pass = prompt("ادخل كلمة سر VIP:");
    if(pass==="135791"){
      if(attempts>=10){
        askName();
      } else {
        alert("كلمة سر غير صحيحة ❌"); askPass();
      }
    } else {
      alert("كلمة سر غير صحيحة ❌"); askPass();
    }
  }
  function askName(){
    let name="";
    while(name.length!==5){ name = prompt("ادخل اسم 5 أحرف:"); }
    vipUser.name = name;
    askImage();
  }
  function askImage(){
    const fileInput = document.createElement("input");
    fileInput.type="file"; fileInput.accept="image/*";
    fileInput.onchange = ()=>{
      const file = fileInput.files[0];
      const reader = new FileReader();
      reader.onload = ()=>{
        vipUser.image = reader.result;
        isVIP = true;
        alert("🎉 يمكنك الآن التعليق بصورتك واسمك!");
        renderAlbums();
      };
      reader.readAsDataURL(file);
    };
    fileInput.click();
  }
  askPass();
}

// ===== تفعيل الأدمن =====
document.getElementById("adminBtn").onclick = ()=>{
  let attempts=0;
  function askPass(){
    attempts++;
    const pass = prompt("ادخل كلمة سر الأدمن:");
    if(pass==="666"){
      if(attempts>=10){
        isAdmin = true;
        alert("🛡️ تم تفعيل وضع الأدمن");
        renderAlbums();
      } else { alert("كلمة سر غير صحيحة ❌"); askPass(); }
    } else { alert("كلمة سر غير صحيحة ❌"); askPass(); }
  }
  askPass();
}

// ===== تنفيذ العرض =====
renderAlbums();
renderProfiles();
</script>

</body>
</html>
